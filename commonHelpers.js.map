{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formEl = document.querySelector('form');\nconsole.log(formEl);\nconst galleryEl = document.querySelector('.js-gallery-elem');\nconst lightGallary = document.querySelector('.gallery');\n// console.log(lightGallary);\nconst loaderEl = document.querySelector('.loader');\n\nhideLoader();\n \nconst lightbox = new SimpleLightbox('.gallery a', {\n        captionDelay: 250,\n    });\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    showLoader();\n\n    const value = formEl.elements.query.value;\n    getPhotoBySearch(value).then(data => renderImages(data.hits)).catch(error => renderError())\n    \n    formEl.reset();\n    \n    \n};\n\n \n\nfunction getPhotoBySearch(searchValue) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '?key=42153847-0f7baac2d7b2e92d7ce6bbe8e';\n    const Query = `&q=${searchValue}`;\n    const params = '&image_type=photo&orientation=horizontal&safesearch=true&per_page=20';\n    \n    const url = BASE_URL + KEY + Query + params;\n\n    // return fetch(url).then((res) => res.json()).catch((error) => console.log(error));\n    return fetch(url).then((res) => {\n        const arr = res.json();\n        console.log(arr);\n        return arr;\n    })\n        .then((array) => {\n            if (array.total === 0) {\n                throw new Error(error);\n            };\n\n            return array;\n        });\n  \n};\n\n\nfunction renderImages(array) {\n    const markup = array.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => { return` <div class=\"gallery\">\n    <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width = \"360px\"\n      height = \"300px\"/>\n       <ul class=\"info-cards-container\">\n      <li class=\"info-cards-elements\">likes<span>${likes}</span></li>\n      <li class=\"info-cards-elements\">views<span>${views}</span></li>\n       <li class=\"info-cards-elements\">comments<span>${comments}</span></li>\n       <li class=\"info-cards-elements\">downloads<span>${downloads}</span></li>\n     </ul>\n      </a>\n    </div>`}).join('');   \n    galleryEl.innerHTML = markup;\n    // galleryEl.insertAdjacentHTML('beforeend', markup);\nhideLoader();\n    lightbox.refresh();\n      \n};\n\n\nfunction renderError() {\n    galleryEl.innerHTML = \"\";\n    iziToast.show({\n        message: `‚ùå \"Sorry, there are no images matching your search query. Please try again!`,\n        color: 'red',\n        position: 'topRight',\n        maxWidth: '400px',\n    });\n    \n};\n\n\nfunction showLoader() {\n  loaderEl.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loaderEl.style.display = 'none';\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function imageTemplate({ largeImageURL, webformatURL, tags, likes, views, comments,downloads}) {\n//   return ` <div class=\"gallery\">\n//     <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width = \"360px\"\n//       height = \"300px\"/>\n//        <ul class=\"info-cards-container\">\n//       <li class=\"info-cards-elements\">likes<span>${likes}</span></li>\n//       <li class=\"info-cards-elements\">views<span>${views}</span></li>\n//        <li class=\"info-cards-elements\">comments<span>${comments}</span></li>\n//        <li class=\"info-cards-elements\">downloads<span>${downloads}</span></li>\n//      </ul>\n//       </a>\n//     </div>`   \n// }\n\n// function imagesTemplate(array) {\n//     return array.map(imageTemplate).join('');\n      \n// }\n\n// function renderImages(array) {\n//     const markup = imagesTemplate(array);\n//     galleryEl.insertAdjacentHTML('beforeend', markup);\n    \n    \n// };"],"names":["formEl","galleryEl","loaderEl","hideLoader","lightbox","SimpleLightbox","onSubmit","e","showLoader","value","getPhotoBySearch","data","renderImages","error","renderError","searchValue","BASE_URL","KEY","Query","params","url","res","arr","array","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","iziToast"],"mappings":"6vBAMA,MAAMA,EAAS,SAAS,cAAc,MAAM,EAC5C,QAAQ,IAAIA,CAAM,EAClB,MAAMC,EAAY,SAAS,cAAc,kBAAkB,EACtC,SAAS,cAAc,UAAU,EAEtD,MAAMC,EAAW,SAAS,cAAc,SAAS,EAEjDC,IAEA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC1C,aAAc,GACtB,CAAK,EAELL,EAAO,iBAAiB,SAAUM,CAAQ,EAE1C,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBC,IAEA,MAAMC,EAAQT,EAAO,SAAS,MAAM,MACpCU,EAAiBD,CAAK,EAAE,KAAKE,GAAQC,EAAaD,EAAK,IAAI,CAAC,EAAE,MAAME,GAASC,EAAW,CAAE,EAE1Fd,EAAO,MAAK,CAGhB,CAIA,SAASU,EAAiBK,EAAa,CACnC,MAAMC,EAAW,2BACXC,EAAM,0CACNC,EAAQ,MAAMH,IACdI,EAAS,uEAETC,EAAMJ,EAAWC,EAAMC,EAAQC,EAGrC,OAAO,MAAMC,CAAG,EAAE,KAAMC,GAAQ,CAC5B,MAAMC,EAAMD,EAAI,OAChB,eAAQ,IAAIC,CAAG,EACRA,CACf,CAAK,EACI,KAAMC,GAAU,CACb,GAAIA,EAAM,QAAU,EAChB,MAAM,IAAI,MAAM,KAAK,EAGzB,OAAOA,CACnB,CAAS,CAET,CAGA,SAASX,EAAaW,EAAO,CACzB,MAAMC,EAASD,EAAM,IAAI,CAAC,CAAE,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAa;AAAA,eACpGN,gBAA4BC,WAAsBC,aAAgBA;AAAA;AAAA;AAAA,mDAG9BC;AAAA,mDACAC;AAAA,uDACIC;AAAA,wDACCC;AAAA;AAAA;AAAA,WAG5C,EAAE,KAAK,EAAE,EACjB9B,EAAU,UAAYuB,EAE1BrB,IACIC,EAAS,QAAO,CAEpB,CAGA,SAASU,GAAc,CACnBb,EAAU,UAAY,GACtB+B,EAAS,KAAK,CACV,QAAS,8EACT,MAAO,MACP,SAAU,WACV,SAAU,OAClB,CAAK,CAEL,CAGA,SAASxB,GAAa,CACpBN,EAAS,MAAM,QAAU,OAC3B,CAEA,SAASC,GAAa,CACpBD,EAAS,MAAM,QAAU,MAC3B"}